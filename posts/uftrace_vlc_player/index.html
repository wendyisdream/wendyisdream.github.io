<!DOCTYPE html><html lang="en" data-mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="uftrace를 사용한 분석 - vlc player" /><meta name="author" content="Wendy" /><meta property="og:locale" content="en" /><meta name="description" content="VLC 빌드" /><meta property="og:description" content="VLC 빌드" /><link rel="canonical" href="/posts/uftrace_vlc_player/" /><meta property="og:url" content="/posts/uftrace_vlc_player/" /><meta property="og:site_name" content="Wendy" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-07-23T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="uftrace를 사용한 분석 - vlc player" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Wendy" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Wendy"},"dateModified":"2022-07-30T17:14:18+09:00","datePublished":"2022-07-23T00:00:00+09:00","description":"VLC 빌드","headline":"uftrace를 사용한 분석 - vlc player","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/uftrace_vlc_player/"},"url":"/posts/uftrace_vlc_player/"}</script><title>uftrace를 사용한 분석 - vlc player | Wendy</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Wendy"><meta name="application-name" content="Wendy"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/private/avatar_wendy.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Wendy</a></div><div class="site-subtitle font-italic"></div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/wendyisdream" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>uftrace를 사용한 분석 - vlc player</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>uftrace를 사용한 분석 - vlc player</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1658502000" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 23, 2022 </em> </span> <span> Updated <em class="" data-ts="1659168858" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 30, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> your_full_name </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2596 words"> <em>14 min</em> read</span></div></div></div><div class="post-content"><h3 id="vlc-빌드"><span class="mr-2">VLC 빌드</span><a href="#vlc-빌드" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="소스-가져오기"><span class="mr-2">소스 가져오기</span><a href="#소스-가져오기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="go">git clone https://github.com/videolan/vlc.git
</span></pre></table></code></div></div><h4 id="필요-패키지-설치"><span class="mr-2">필요 패키지 설치</span><a href="#필요-패키지-설치" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>WSL2 환경에서 다수의 패키지의 설치가 필요했다. bootstrap과 configure 단계에서 에러 발생시 다음의 사이트에서 검색해서 찾을 수 있었다.</p><p>ubuntu 패키지 찾기 <a href="https://packages.ubuntu.com/search?keywords=xcb&amp;searchon=names&amp;suite=jammy&amp;section=all">https://packages.ubuntu.com/search?keywords=xcb&amp;searchon=names&amp;suite=jammy&amp;section=all</a></p><p>./bootstrap 단계에서 설치한 패키지</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="go">sudo apt install flex bison autopoint gettext libtool autoconf
</span></pre></table></code></div></div><p>./configure 단계에서 설치한 패키지 (–disable-qt 옵션 사용)</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="go">sudo apt install lua5.2 liblua5.2-dev libavcodec-dev libavutil-dev libavformat-dev libswscale-dev
sudo apt install liba52-dev libxcb-composite0-dev libalsa-ocaml-dev
sudo apt install libxcb-randr0-dev libxcb-shm0-dev libxcb-xkb-dev
</span></pre></table></code></div></div><h4 id="vlc-player-빌드"><span class="mr-2">vlc player 빌드</span><a href="#vlc-player-빌드" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>vlc player에 pg 옵션을 넣어 빌드!</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="go">./bootstrap
./configure --disable-qt CFLAGS="-pg"
./make 
</span></pre></table></code></div></div><h3 id="uftrace를-이용한-vlc-분석"><span class="mr-2">UFTRACE를 이용한 VLC 분석</span><a href="#uftrace를-이용한-vlc-분석" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="graph"><span class="mr-2">graph</span><a href="#graph" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><h5 id="task"><span class="mr-2">task</span><a href="#task" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="gp">	$</span><span class="w"> </span>uftrace graph <span class="nt">--task</span>
<span class="go">	========== TASK GRAPH ==========
</span><span class="gp">	#</span><span class="w"> </span>TOTAL TIME   SELF TIME     TID     TASK NAME
<span class="go">		1.043  m   82.056 ms  [ 19833] : vlc
		1.043  m   22.826 us  [ 19836] :  +-vlc-exec-runner
		1.043  m    1.589 ms  [ 19837] :  +-vlc-exec-runner
		1.043  m   29.841 us  [ 19839] :  +-vlc-exec-runner
		1.043  m    3.003 ms  [ 19838] :  +-vlc-exec-runner
		1.043  m   18.807 us  [ 19840] :  +-vlc-exec-runner
		1.043  m  546.857 us  [ 19841] :  +-vlc-player-end
	   33.906 ms   22.701 ms  [ 19842] :  +-vlc-preparse
		1.043  m  348.612 us  [ 19843] :  +-vlc-cli-client
		1.021  m  387.175 ms  [ 19844] :  +-vlc-input
		1.021  m  383.284 ms  [ 19851] :  +-vlc-dec-video
		1.021  m  580.095 ms  [ 19852] :  +-vlc-dec-audio
		1.019  m    1.006  m  [ 19845] :  +-vlc-static
		1.043  m   61.519 ms  [ 19854] :  +-vlc-spu-prerend
		1.043  m    1.055 ms  [ 19855] :  +-vlc-window-x11
		1.043  m  408.717 us  [ 19856] :  +-vlc-timer
		1.020  m    3.686  s  [ 19873] :  +-vlc-vout
		1.019  m    1.006  m  [ 19846] :  +-vlc-static
		1.019  m    1.006  m  [ 19847] :  +-vlc-static
		1.019  m    1.006  m  [ 19848] :  +-vlc-static
		1.019  m    1.006  m  [ 19849] :  +-vlc-static
		1.019  m    1.006  m  [ 19850] :  +-vlc-static
</span></pre></table></code></div></div><h4 id="replay"><span class="mr-2">replay</span><a href="#replay" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>vlc-dec-video 위의 task 중 vlc-dec-video thread를 조금 더 알고 싶다.<br /> 그런데 결과에 mutex가 너무 많아~서 mutex 는 제외하고 확인해본다.<div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="gp">  $</span><span class="w"> </span>uftrace replay <span class="nt">--tid</span><span class="o">=</span>19851 <span class="nt">-N</span> vlc_mutex<span class="k">*</span> <span class="nt">-T</span> <span class="s1">'DecoderThread_ProcessInput@filter,backtrace,depth=5'</span>
<span class="gp">  #</span><span class="w"> </span>DURATION     TID     FUNCTION
<span class="go">    backtrace [ 19851] | /* [ 0] DecoderThread */
              [ 19851] | DecoderThread_ProcessInput() {
</span><span class="gp">     0.055 us [ 19851] |   DecoderUpdatePreroll();</span><span class="w">
</span><span class="go">              [ 19851] |   DecoderThread_DecodeBlock() {
              [ 19851] |     vlc_object_get_tracer() {
              [ 19851] |       vlc_object_instance() {
</span><span class="gp">     0.139 us [ 19851] |         vlc_object_parent();</span><span class="w">
</span><span class="gp">     0.221 us [ 19851] |         vlc_object_parent();</span><span class="w">
</span><span class="gp">     0.152 us [ 19851] |         vlc_object_parent();</span><span class="w">
</span><span class="gp">     0.083 us [ 19851] |         vlc_object_parent();</span><span class="w">
</span><span class="go">     0.979 us [ 19851] |       } /* vlc_object_instance */
</span><span class="gp">     0.034 us [ 19851] |       libvlc_priv();</span><span class="w">
</span><span class="go">     1.177 us [ 19851] |     } /* vlc_object_get_tracer */
              [ 19851] |     DecodeVideo() {
              [ 19851] |       DecodeBlock() {
</span><span class="gp">     0.056 us [ 19851] |         filter_earlydropped_blocks();</span><span class="w">
</span><span class="gp">     0.534 us [ 19851] |         vlc_frame_Realloc();</span><span class="w">
</span><span class="gp">     1.238 us [ 19851] |         vlc_frame_Release();</span><span class="w">
</span><span class="go">    96.708 us [ 19851] |       } /* DecodeBlock */
    96.932 us [ 19851] |     } /* DecodeVideo */
    98.796 us [ 19851] |   } /* DecoderThread_DecodeBlock */
    99.964 us [ 19851] | } /* DecoderThread_ProcessInput */
    backtrace [ 19851] | /* [ 0] DecoderThread */
              [ 19851] | DecoderThread_ProcessInput() {
</span><span class="gp">     0.104 us [ 19851] |   DecoderUpdatePreroll();</span><span class="w">
</span></pre></table></code></div></div><li>vlc-input<div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre><td class="rouge-code"><pre><span class="gp">  $</span><span class="w"> </span>uftrace replay <span class="nt">--tid</span><span class="o">=</span>19844 <span class="nt">-N</span> vlc_mutex<span class="k">*</span>
<span class="gp">  #</span><span class="w"> </span>DURATION     TID     FUNCTION
<span class="go">              [ 19844] | Run() {
              [ 19844] |   vlc_thread_set_name() {
              [ 19844] |     /* linux:task-name (comm="vlc-input") */
     1.757 us [ 19844] |   } /* vlc_thread_set_name */
</span><span class="gp">     0.103 us [ 19844] |   vlc_interrupt_set();</span><span class="w">
</span><span class="go">              [ 19844] |   Init() {
</span><span class="gp">     0.056 us [ 19844] |     input_priv();</span><span class="w">
</span><span class="go">              [ 19844] |     input_ChangeState() {
</span><span class="gp">     0.046 us [ 19844] |       input_priv();</span><span class="w">
</span><span class="gp">     0.040 us [ 19844] |       input_priv();</span><span class="w">
</span><span class="go">              [ 19844] |       input_SendEventState() {
              [ 19844] |         input_SendEvent() {
</span><span class="gp">     0.056 us [ 19844] |           input_priv();</span><span class="w">
</span><span class="go">              [ 19844] |           input_thread_Events() {
              [ 19844] |             vlc_player_input_HandleStateEvent() {
              [ 19844] |               vlc_player_input_HandleState() {
</span><span class="gp">     0.068 us [ 19844] |                 vlc_list_it_start();</span><span class="w">
</span><span class="gp">     0.041 us [ 19844] |                 vlc_list_it_continue();</span><span class="w">
</span><span class="gp">     0.061 us [ 19844] |                 vlc_list_it_next();</span><span class="w">
</span><span class="gp">     0.041 us [ 19844] |                 vlc_list_it_continue();</span><span class="w">
</span><span class="gp">     0.055 us [ 19844] |                 vlc_list_it_next();</span><span class="w">
</span><span class="gp">     0.049 us [ 19844] |                 vlc_list_it_continue();</span><span class="w">
</span><span class="go">              [ 19844] |                 player_on_state_changed() {
              [ 19844] |                   msg_print() {
              [ 19844] |                     msg_vprint() {
</span><span class="gp">     0.040 us [ 19844] |                       vlc_list_it_start();</span><span class="w">
</span><span class="gp">     0.046 us [ 19844] |                       vlc_list_it_continue();</span><span class="w">
</span><span class="go">              [ 19844] |                       cli_vprintf() {
              [ 19844] |                         cli_writev() {
</span><span class="gp">    16.744 us [ 19844] |                           vlc_writev();</span><span class="w">
</span><span class="go">    20.204 us [ 19844] |                         } /* cli_writev */
    21.418 us [ 19844] |                       } /* cli_vprintf */
</span><span class="gp">     0.064 us [ 19844] |                       vlc_list_it_next();</span><span class="w">
</span><span class="gp">     0.037 us [ 19844] |                       vlc_list_it_continue();</span><span class="w">
</span><span class="go">    27.447 us [ 19844] |                     } /* msg_vprint */
    27.586 us [ 19844] |                   } /* msg_print */
    27.741 us [ 19844] |                 } /* player_on_state_changed */
</span></pre></table></code></div></div></ul><h4 id="report"><span class="mr-2">report</span><a href="#report" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>가장 많이 불린 함수는?<div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="gp">      $</span><span class="w"> </span>uftrace report <span class="nt">-f</span> all <span class="nt">-s</span> call
<span class="go">      Total time   Total avg   Total min   Total max   Self time    Self avg    Self min    Self max       Calls  Function
      ==========  ==========  ==========  ==========  ==========  ==========  ==========  ==========  ==========  ====================
      74.468 ms    0.123 us    0.025 us   62.331 us   74.468 ms    0.123 us    0.025 us   62.331 us      604988  vlc_thread_id
      189.923 ms    0.458 us    0.103 us  226.244 us  131.843 ms    0.318 us    0.074 us  130.732 us      414036  vlc_mutex_held
      196.476 ms    1.031 us    0.220 us  227.229 us   75.129 ms    0.394 us    0.094 us  128.730 us      190424  vlc_mutex_trylock
      131.035 ms    0.688 us    0.168 us  177.329 us   40.653 ms    0.213 us    0.062 us  176.732 us      190424  vlc_mutex_unlock
      681.213 ms    3.613 us    0.308 us  212.013 ms   37.608 ms    0.199 us    0.059 us  129.470 us      188501  vlc_mutex_lock
      14.842 ms    0.141 us    0.026 us   73.956 us   14.842 ms    0.141 us    0.026 us   73.956 us      105224  fourcc_cmp
      11.186 ms    0.155 us    0.024 us  104.158 us   11.186 ms    0.155 us    0.024 us  104.158 us       71910  vlc_object_parent
      4.119 ms    0.061 us    0.024 us   34.994 us    4.119 ms    0.061 us    0.024 us   34.994 us       67420  MP4_rescale
      17.242 ms    0.277 us    0.096 us  103.390 us   13.443 ms    0.216 us    0.070 us  103.279 us       62034  MP4_rescale_mtime
      3.258 ms    0.067 us    0.024 us   29.562 us    3.258 ms    0.067 us    0.024 us   29.562 us       48173  vlc_tick_from_seci
      18.935 ms    0.393 us    0.109 us  134.327 us   15.676 ms    0.325 us    0.082 us  134.204 us       48173  vlc_tick_now
      3.466 ms    0.093 us    0.028 us   50.077 us    3.466 ms    0.093 us    0.028 us   50.077 us       36932  GCD
      2.334 ms    0.068 us    0.024 us   21.851 us    2.334 ms    0.068 us    0.024 us   21.851 us       34194  input_priv
      1.001  h   45.701 ms    1.354 us    1.043  m    1.001  h   45.701 ms    1.354 us    1.043  m       33619  linux:schedule
      23.596 ms    0.839 us    0.299 us  104.639 us    8.053 ms    0.286 us    0.098 us   73.451 us       28124  MP4_TrackGetDTSPTS
      9.644 ms    0.353 us    0.113 us  102.483 us    7.193 ms    0.263 us    0.081 us  102.312 us       27258  LCM
      1.723 ms    0.063 us    0.024 us   12.770 us    1.723 ms    0.063 us    0.024 us   12.770 us       27051  vlc_fifo_queue
</span></pre></table></code></div></div><li>비교를 해보자~<div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre><td class="rouge-code"><pre><span class="gp">  $</span><span class="w"> </span>uftrace report <span class="nt">--diff</span> uftrace.data.old <span class="nt">-f</span> total,total-min,self-avg <span class="nt">--diff-policy</span> full
<span class="gp">  #</span><span class="w">
</span><span class="gp">  #</span><span class="w"> </span>uftrace diff
<span class="gp">  #</span><span class="w">  </span><span class="o">[</span>0] base: uftrace.data       <span class="o">(</span>from uftrace record <span class="nt">--srcline</span> ./vlc ./sunrise.mp4<span class="o">)</span>
<span class="gp">  #</span><span class="w">  </span><span class="o">[</span>1] diff: uftrace.data.old   <span class="o">(</span>from uftrace record ./vlc ./sunrise.mp4<span class="o">)</span>
<span class="gp">  #</span><span class="w">
</span><span class="go">                       Total time (diff)                      Total min (diff)                       Self avg (diff)   Function
     ===================================   ===================================   ===================================   ====================
      15.030  m    2.022  h    +2.006  h    42.994  s    4.008  m    +3.025  m    58.142  s    4.023  m    +3.024  m   exit
       1.001  h    2.021  h    +1.020  h     1.354 us           -    -1.354 us    45.701 ms   94.813 ms   +49.112 ms   linux:schedule
      18.051  m    1.022  h    +1.003  h     0.388 us    0.382 us    -0.006 us     2.025 us    1.726 us    -0.299 us   vlc_futex_wait
      18.052  m    1.022  h    +1.003  h     0.108 us    0.106 us    -0.002 us    14.888 us    9.685 us    -5.203 us   sys_futex
      15.005  m    1.018  h    +1.003  h    56.737 us   18.658 us   -38.079 us     1.136 us    0.748 us    -0.388 us   vlc_cond_wait
      15.006  m    1.018  h    +1.003  h     0.467 us    0.470 us    +0.003 us     0.264 us    0.170 us    -0.094 us   vlc_atomic_wait
       8.037  m    1.001  h   +17.004  m     1.043  m    5.008  m    +3.024  m     1.999 us    2.635 us    +0.636 us   ThreadRun
       8.037  m    1.001  h   +17.004  m    42.627 ms   43.002 ms  +374.319 us     0.676 us    0.706 us    +0.030 us   QueueTake
       1.043  m    5.008  m    +3.024  m     1.043  m    5.008  m    +3.024  m    10.128 ms   12.895 ms    +2.767 ms   cli_client_thread
       1.043  m    5.008  m    +3.024  m     1.043  m    5.008  m    +3.024  m    10.606 us    6.500 us    -4.106 us   vlc_player_destructor_Thread
       1.043  m    5.008  m    +3.024  m     1.043  m    5.008  m    +3.024  m    25.006 us   26.744 us    +1.738 us   sigwait
       1.043  m    5.008  m    +3.024  m     1.043  m    5.008  m    +3.024  m    15.012 us    9.342 us    -5.670 us   main
       1.043  m    5.008  m    +3.024  m     1.043  m    5.008  m    +3.024  m     2.025 ms    1.437 ms  -588.921 us   spu_PrerenderThread
       1.043  m    5.008  m    +3.024  m     1.043  m    5.008  m    +3.024  m    26.145 us   10.792 us   -15.353 us   vlc_timer_thread
       3.004  m    6.028  m    +3.024  m     1.020  m    1.020  m  -816.621 ms     5.141 ms    5.418 ms  +277.303 us   Thread
       1.019  m   28.347  s   -51.258  s    13.959 us   31.061 us   +17.102 us     0.814 us    0.578 us    -0.236 us   DecoderThread_ProcessInput
       1.019  m   28.337  s   -51.254  s    13.561 us   30.176 us   +16.615 us     0.610 us    0.427 us    -0.183 us   DecoderThread_DecodeBlock
       1.019  m   28.328  s   -51.250  s    10.271 us   29.443 us   +19.172 us    59.192 us   41.302 us   -17.890 us   DecodeBlock
       1.018  m   27.729  s   -51.146  s    66.771 us   55.661 us   -11.110 us     0.222 us    0.183 us    -0.039 us   DecodeVideo
       1.020  m    2.011  m   +50.527  s    57.159 us   19.057 us   -38.102 us     0.337 us    0.263 us    -0.074 us   vlc_fifo_Wait
       1.020  m    2.011  m   +50.527  s    56.910 us   18.792 us   -38.118 us     0.458 us    0.268 us    -0.190 us   vlc_queue_Wait
       1.018  m   40.132  s   -37.999  s    10.171 us    9.671 us    -0.500 us    12.314 us    6.998 us    -5.316 us   lavc_dr_GetFrame
       1.018  m   40.116  s   -37.988  s     8.660 us    7.828 us    -0.832 us     0.800 us    0.438 us    -0.362 us   decoder_NewPicture
       1.018  m   40.115  s   -37.987  s     8.528 us    7.708 us    -0.820 us     1.539 us    1.026 us    -0.513 us   ModuleThread_NewVideoBuffer
       1.018  m   40.112  s   -37.986  s     7.870 us    7.104 us    -0.766 us     1.653 us    1.104 us    -0.549 us   picture_pool_Wait
       1.018  m   40.357  s   -37.952  s    28.149 us   24.503 us    -3.646 us     2.347 us    1.542 us    -0.805 us   lavc_GetFrame
      12.402  s    7.447  s    -4.955  s     3.275 ms    3.119 ms  -156.284 us   204.669 us  136.946 us   -67.723 us   PictureRender
       1.004  m    1.008  m    +4.080  s     7.003 us    8.921 us    +1.918 us     0.720 us    0.530 us    -0.190 us   vlc_clock_Wait
       3.045  m    3.048  m    +2.966  s     1.258 us    0.852 us    -0.406 us     1.253 us    0.959 us    -0.294 us   vlc_atomic_timedwait
       3.045  m    3.048  m    +2.948  s     6.549 us    8.342 us    +1.793 us     1.298 us    1.035 us    -0.263 us   vlc_cond_timedwait
</span></pre></table></code></div></div><h4 id="info"><span class="mr-2">info</span><a href="#info" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></ul><p>Todo) 여기에서 FLAGS가 의미는?</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="gp">	$</span><span class="w"> </span>uftrace info <span class="nt">--task</span>
<span class="gp">	#</span><span class="w">         </span>TIMESTAMP       FLAGS     TID    TASK              DATA SIZE
<span class="go">			165175.517868585  FS     [ 19833]  vlc                   3.797 MB
			165175.565699180         [ 19836]  vlc-exec-runner       0.001 MB
			165175.566791025         [ 19837]  vlc-run-prepars       0.117 MB
			165175.566866697         [ 19838]  vlc-exec-runner       0.038 MB
			165175.566988895         [ 19839]  vlc-exec-runner       0.001 MB
			165175.567439094         [ 19840]  vlc-exec-runner       0.001 MB
			165175.609405416         [ 19841]  vlc-player-end        0.015 MB
			165175.611223100         [ 19842]  vlc-preparse          1.320 MB
			165175.614638686         [ 19843]  vlc-cli-client        0.001 MB
			165175.615249899         [ 19844]  vlc-input            35.978 MB
			165175.661827535         [ 19845]  vlc-static            2.447 MB
			165175.661912350         [ 19846]  vlc-static            1.969 MB
			165175.661977935         [ 19847]  vlc-static            1.970 MB
			165175.662046004         [ 19848]  vlc-static            1.969 MB
			165175.662107140         [ 19849]  vlc-static            1.966 MB
			165175.662166497         [ 19850]  vlc-static            1.963 MB
			165175.662216979         [ 19851]  vlc-dec-video        15.106 MB
			165175.681335551         [ 19852]  vlc-dec-audio        25.087 MB
			165175.767731697         [ 19854]  vlc-spu-prerend       2.486 MB
			165175.773089153         [ 19855]  vlc-window-x11        0.023 MB
			165175.777119407         [ 19856]  vlc-timer             0.006 MB
			165175.853211605         [ 19873]  vlc-vout             28.484 MB
			165205.778313709  FS     [ 19874]  xdg-screensaver       0.553 MB
</span></pre></table></code></div></div><h4 id="live"><span class="mr-2">live</span><a href="#live" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><h4 id="dump"><span class="mr-2">dump</span><a href="#dump" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><h4 id="recv"><span class="mr-2">recv</span><a href="#recv" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><h4 id="script"><span class="mr-2">script</span><a href="#script" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="gp">	$</span><span class="w"> </span>uftrace script <span class="nt">-S</span> ../../uftrace/scripts/simple.py
<span class="go">	program begins...
	entry : main()
	entry : signal()
	exit  : signal()
	entry : signal()
	exit  : signal()
</span></pre></table></code></div></div><h4 id="tui"><span class="mr-2">tui</span><a href="#tui" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>call graph에서 출력되는 session의 순서는 가장 동작이 많은 순서인가?<div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="gp">   G  call Graph for session #</span>1: vlc-static                                                                      
<span class="gp">      call Graph for session #</span>2: dash
<span class="gp">      call Graph for session #</span>3: <span class="nb">mv</span>
<span class="gp">      call Graph for session #</span>4: <span class="nb">grep</span>
<span class="gp">      call Graph for session #</span>5: <span class="nb">sed</span>
<span class="gp">      call Graph for session #</span>6: dash
<span class="go">    TOTAL TIME : FUNCTION
      1.001  h : (1) vlc-static
      1.043  m :  ├▶(1) main
               :  │
      8.037  m :  ├▶(5) ThreadRun
               :  │
      1.043  m :  ├▶(1) vlc_player_destructor_Thread
               :  │
     33.906 ms :  ├▶(1) Preparse
               :  │
      1.043  m :  ├▶(1) cli_client_thread
               :  │
      1.021  m :  ├▶(1) Run
               :  │
      2.042  m :  ├▶(2) DecoderThread                                                                            
               :  │
     94.506 ms :  ├▶(1) ffmpeg_GetFormat
               :  │
      1.043  m :  ├▶(1) spu_PrerenderThread
               :  │
      3.004  m :  ├▶(2) Thread
               :  │
      1.043  m :  ├▶(1) vlc_timer_thread
               :  │
      1.018  m :  └▶(1923) lavc_GetFrame
</span></pre></table></code></div></div><li>DecoderThread 열어보자~<div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre><td class="rouge-code"><pre><span class="go">    TOTAL TIME : FUNCTION
      2.042  m :  ├─(2) DecoderThread
      3.868 us :  │  ├─(2) vlc_thread_set_name
               :  │  │
     11.097 ms :  │  ├▶(5374) vlc_fifo_Lock
               :  │  │
     20.813 ms :  │  ├▶(11400) vlc_cond_signal
               :  │  │
     14.313 ms :  │  ├▶(5700) vlc_fifo_DequeueUnlocked
               :  │  │
      1.020  m :  │  ├▶(328) vlc_fifo_Wait
               :  │  │
      8.924 ms :  │  ├▶(5374) vlc_fifo_Unlock
               :  │  │
      1.019  m :  │  ├─(5372) DecoderThread_ProcessInput
      5.929 ms :  │  │  ├▶(5370) vlc_mutex_lock
               :  │  │  │
    611.426 us :  │  │  ├─(5370) DecoderUpdatePreroll
               :  │  │  │
      3.098 ms :  │  │  ├▶(5370) vlc_mutex_unlock
               :  │  │  │
      1.019  m :  │  │  └─(5372) DecoderThread_DecodeBlock
      8.398 ms :  │  │     ├▶(5372) vlc_object_get_tracer
               :  │  │     │
    704.837 ms :  │  │     ├─(3448) DecodeAudio
    704.002 ms :  │  │     │▶(3448) DecodeBlock
               :  │  │     │
      1.018  m :  │  │     └─(1924) DecodeVideo
      1.018  m :  │  │      ▶(1924) DecodeBlock
               :  │  │
      7.150 ms :  │  ├▶(5372) vlc_mutex_lock
               :  │  │
      6.795 ms :  │  ├▶(5372) vlc_mutex_unlock
               :  │  │
    914.324 us :  │  ├▶(320) vlc_aout_stream_UpdateLatency
               :  │  │
      1.959  s :  │  └▶(1) vlc_aout_stream_Drain
               :  │
     94.506 ms :  ├▶(1) ffmpeg_GetFormat
</span></pre></table></code></div></div></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/blogging/'>Blogging</a>, <a href='/categories/uftrace/'>Uftrace</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/study/" class="post-tag no-text-decoration" >study</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=uftrace%EB%A5%BC+%EC%82%AC%EC%9A%A9%ED%95%9C+%EB%B6%84%EC%84%9D+-+vlc+player+-+Wendy&url=%2Fposts%2Fuftrace_vlc_player%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=uftrace%EB%A5%BC+%EC%82%AC%EC%9A%A9%ED%95%9C+%EB%B6%84%EC%84%9D+-+vlc+player+-+Wendy&u=%2Fposts%2Fuftrace_vlc_player%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2Fuftrace_vlc_player%2F&text=uftrace%EB%A5%BC+%EC%82%AC%EC%9A%A9%ED%95%9C+%EB%B6%84%EC%84%9D+-+vlc+player+-+Wendy" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/frequently_used_gitcommand/">frequently used git commands</a><li><a href="/posts/issue_invalidnullpointerhandling/">clang asan으로 빌드 후 실행 시 applying zero offset to null pointer 에러 발생건</a><li><a href="/posts/code_analysis_function_size/">uftrace 코드 분석- function size field</a><li><a href="/posts/uftrace_vlc_player/">uftrace를 사용한 분석 - vlc player</a><li><a href="/posts/github_blog/">github blog</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/study/">study</a> <a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD/">개발환경</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/code_analysis_function_size/"><div class="card-body"> <em class="small" data-ts="1658502000" data-df="ll" > Jul 23, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>uftrace 코드 분석- function size field</h3><div class="text-muted small"><p> uftrace 코드 분석 및 size filed 추가 uftrace에서 report/graph/tui 에서 사용되는 data structure 파악을 위해 doxygen의 data structure 결과에 uftrace에서 record 결과로부터 내부 data structure에 메모리를 할당하고 값을 업데이트하는 부분을 따라가보며 구조체 옆에 함수 ...</p></div></div></a></div><div class="card"> <a href="/posts/issue_invalidnullpointerhandling/"><div class="card-body"> <em class="small" data-ts="1659106800" data-df="ll" > Jul 30, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>clang asan으로 빌드 후 실행 시 applying zero offset to null pointer 에러 발생건</h3><div class="text-muted small"><p> 이슈 내용 clang으로 ASAN=1 unittest 빌드 후 실행 시 runtime error: applying zero offset to null pointer 에러 발생 1 2 /uftrace/utils/dwarf.c:2412:16: runtime error: applying zero offset to null pointer SUMMARY: U...</p></div></div></a></div><div class="card"> <a href="/posts/uftrace_data_unit/"><div class="card-body"> <em class="small" data-ts="1660316400" data-df="ll" > Aug 13, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>uftrace record data unit</h3><div class="text-muted small"><p> 타켓 프로그램의 실행 과정 중 uftrace libmcount.so는 함수의 entry/exit, event 발생 시 정보를 hook하고 uftrace는 데이터를 {tid}.dat에 기록한다. argument/return value나 file name/line number등의 추가 debug 정보가 요청되면 .dbg에 관련 정보가 저장된다. Test...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/code_analysis_function_size/" class="btn btn-outline-primary" prompt="Older"><p>uftrace 코드 분석- function size field</p></a> <a href="/posts/frequently_used_gitcommand/" class="btn btn-outline-primary" prompt="Newer"><p>frequently used git commands</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">your_full_name</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/study/">study</a> <a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD/">개발환경</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
